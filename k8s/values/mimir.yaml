nameOverride: mimir
global:
  extraEnvFrom: [{ secretRef: { name: mimir-s3-credentials } }]
mimir:
  auth_enabled: true # ðŸ”’ ENABLES MULTI-TENANCY
  structuredConfig:
    common:
      storage:
        backend: s3
        s3: { endpoint: minio-enterprise.observability-prd.svc:9000, insecure: true }
    blocks_storage:
      backend: s3
      s3: { bucket_name: mimir-blocks, endpoint: minio-enterprise.observability-prd.svc:9000, insecure: true }
      tsdb: { dir: /data/tsdb }
    ruler_storage:
      backend: s3
      s3: { bucket_name: mimir-ruler, endpoint: minio-enterprise.observability-prd.svc:9000, insecure: true }
    alertmanager_storage:
      backend: s3
      s3: { bucket_name: mimir-ruler, endpoint: minio-enterprise.observability-prd.svc:9000, insecure: true }
    usage_stats: { enabled: false }
    ingester:
      ring: { replication_factor: 1 }
    store_gateway:
      sharding_ring: { replication_factor: 1 }
    distributor:
      ring: { kvstore: { store: memberlist } }
minio: { enabled: false }
ingester: { replicas: 1, affinity: null, zoneAwareReplication: { enabled: false }, resources: { requests: { memory: 128Mi }, limits: { memory: 1Gi } } }
store_gateway: { replicas: 1, affinity: null, zoneAwareReplication: { enabled: false }, resources: { requests: { memory: 128Mi }, limits: { memory: 1Gi } } }
distributor: { replicas: 1, affinity: null }
querier: { replicas: 1, affinity: null }
query_frontend: { replicas: 1, affinity: null }
ruler: { replicas: 1, affinity: null }
compactor: { replicas: 1, affinity: null }
alertmanager: { replicas: 1, affinity: null, zoneAwareReplication: { enabled: false } }
overrides_exporter: { replicas: 1 }
rollout_operator: { enabled: true }
nginx: { enabled: true, replicas: 1 }